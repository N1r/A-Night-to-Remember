# ğŸ§¹ ä»£ç åº“æ¸…ç†ä¸ä¼˜åŒ–æŠ¥å‘Š

> **æ—¥æœŸ**ï¼š2026-02-19  
> **çŠ¶æ€**ï¼šå·²å®Œæˆä¸»è¦æ¸…ç†ä¸é‡æ„

---

## 1. æ¸…ç†ä¸é‡æ„æ€»ç»“

### âœ… æ ¸å¿ƒæ¶æ„å‡çº§
1.  **å¼•å…¥ `shared` åŒ…**ï¼š
    -   ç»Ÿä¸€äº† `paths.py`ï¼ˆè·¯å¾„ï¼‰ã€`logger.py`ï¼ˆæ—¥å¿—ï¼‰ã€`domain.py`ï¼ˆé¢†åŸŸé…ç½®ï¼‰ã€`aesthetics.py`ï¼ˆç¾å­¦é…ç½®ï¼‰ã€‚
    -   æ¶ˆé™¤äº†å„æ¨¡å—é‡å¤å®šä¹‰è·¯å¾„å’Œé…ç½®è¯»å–é€»è¾‘çš„ç°è±¡ã€‚
2.  **ç¾å­¦é…ç½®ç³»ç»Ÿè½åº•**ï¼š
    -   æ‰€æœ‰è§†è§‰å‚æ•°ï¼ˆå­—å¹•ã€Logoã€å°é¢ã€é…è‰²ï¼‰ç°åœ¨é€šè¿‡ `aesthetics.yaml` é›†ä¸­ç®¡ç†ã€‚
    -   å®ç°äº† `politics` (æ–°é—») / `sports` (ä½“è‚²) / `documentary` (çºªå½•ç‰‡) ä¸‰å¥—é¢„è®¾çš„åŠ¨æ€åˆ‡æ¢ã€‚

### ğŸ§¹ ä»£ç æ¸…ç†è¡ŒåŠ¨
1.  **ç§»é™¤æ­»ä»£ç **ï¼š
    -   æ¸…ç†äº† `_3_2_split_meaning.py` ç­‰ NLP æ¨¡å—ä¸­å¤§é‡æ³¨é‡Šæ‰çš„è°ƒè¯• `print` å’Œæµ‹è¯•ä»£ç ã€‚
    -   åˆ é™¤äº† `csv_translate.py` ä¸­è¢«æ³¨é‡Šæ‰çš„æ—§ç‰ˆ `main()` å‡½æ•°ï¼ˆçº¦ 80 è¡Œï¼‰ã€‚
    -   æ¸…ç†äº† `bk_get_cookies.py` ä¸­çš„è°ƒè¯•è¯­å¥ã€‚
2.  **å¼ƒç”¨æ—§æ¨¡å—**ï¼š
    -   **`core/domain_manager.py`**ï¼šå·²é™çº§ä¸ºâ€œæ¡¥æ¥å±‚â€ï¼Œå†…éƒ¨å§”æ‰˜ç»™ `shared.domain`ï¼Œä»…ä¿ç•™ä¸ºäº†å…¼å®¹æ—§è°ƒç”¨çš„æ¥å£ã€‚
    -   **`core/_7_sub_into_vid.py`**ï¼šç¡®è®¤æœªè¢«ä¸šåŠ¡æµç¨‹ä½¿ç”¨ï¼ˆå·²è¢« `_7_1_ass_into_vid.py` å–ä»£ï¼‰ï¼Œå·²ç§»åŠ¨è‡³ `2_mid_processing/core/_deprecated/`ã€‚
3.  **ä¿®å¤é…ç½®å¼•ç”¨**ï¼š
    -   ä¿®æ­£äº† `cli_tools` å’Œä¸Šä¼ è„šæœ¬ä¸­å¯¹æ—§é…ç½®å˜é‡ï¼ˆå¦‚ `POLITICS_TAGS`ï¼‰çš„ç¡¬ç¼–ç å¼•ç”¨ï¼Œæ”¹ä¸ºä» `domain` é…ç½®è¯»å–ã€‚

---

## 2. å½“å‰ç³»ç»Ÿä½¿ç”¨æŒ‡å—

### ğŸš€ å¿«é€Ÿå¯åŠ¨
æ— éœ€ä¿®æ”¹ä»£ç ï¼Œä»…é€šè¿‡é…ç½®æ–‡ä»¶å³å¯æ§åˆ¶æ•´ä¸ªç®¡çº¿ï¼š

1.  **é€‰æ‹©é¢†åŸŸ**ï¼š
    ä¿®æ”¹ `configs/config.yaml`:
    ```yaml
    domain: politics  # æˆ– sports, documentary
    ```
2.  **è°ƒæ•´è§†è§‰é£æ ¼**ï¼š
    ä¿®æ”¹ `configs/domains/politics.yaml`:
    ```yaml
    aesthetics_preset: "news"  # å¯¹åº” aesthetics.yaml ä¸­çš„ presets
    ```
3.  **è¿è¡Œç®¡çº¿**ï¼š
    ```bash
    # é¢„å¤„ç† (é‡‡é›† + ç­›é€‰)
    python3 1_pre_processing/workflow_1_pre.py
    
    # ä¸­é—´å¤„ç† (ä¸‹è½½ -> åˆ‡ç‰‡ -> ç¿»è¯‘ -> å­—å¹• -> åˆæˆ)
    python3 2_mid_processing/workflow_2_mid.py
    
    # åå¤„ç† (å°é¢ -> ä¸Šä¼ )
    python3 3_post_processing/workflow_3_post.py
    ```

### ğŸ“– è¯¦ç»†æ–‡æ¡£
- **é¢†åŸŸä¸ç¾å­¦é…ç½®æŒ‡å—**ï¼šè¯·å‚é˜… [`docs/domain_aesthetics_guide.md`](docs/domain_aesthetics_guide.md)
  - åŒ…å«è¯¦ç»†çš„ YAML é…ç½®è¯´æ˜ã€Python API å‚è€ƒå’Œé¢„è®¾é¢„è§ˆã€‚

---

## 3. æ”¹è¿›ç©ºé—´ä¸è·¯çº¿å›¾ (Roadmap)

è™½ç„¶ä»£ç åº“å·²æ•´æ´è®¸å¤šï¼Œä½†ä»æœ‰ä¼˜åŒ–ç©ºé—´ã€‚ä»¥ä¸‹æ˜¯å»ºè®®çš„æ”¹è¿›æ–¹å‘ï¼š

### ğŸ”´ çŸ­æœŸç›®æ ‡ (High Priority)
1.  **[å·²å®Œæˆ] å®Œæˆ `domain_manager.py` çš„é€€å½¹**ï¼š
    -   å…¨é¡¹ç›®å¼•ç”¨å·²æ›¿æ¢ä¸º `shared.domain`ã€‚
    -   `core/domain_manager.py` å·²å½»åº•åˆ é™¤ã€‚
2.  **ç»Ÿä¸€é”™è¯¯å¤„ç†**ï¼šå»ºè®®åœ¨ `shared.logger` ä¸­å¢åŠ ç»Ÿä¸€çš„ `ErrorHandler` è£…é¥°å™¨ã€‚
3.  **ç±»å‹æç¤º (Type Hinting) è¡¥å…¨**ï¼šæ ¸å¿ƒæ¨¡å—åŠ `shared` åŒ…æ·»åŠ ç±»å‹æç¤ºã€‚

### ğŸŸ¡ ä¸­æœŸç›®æ ‡ (Medium Priority)
4.  **é…ç½®éªŒè¯ (Schema Validation)**ï¼š
    -   ä½¿ç”¨ Pydantic æˆ– JSONSchema å¯¹ `config.yaml`, `domain.yaml`, `aesthetics.yaml` è¿›è¡ŒåŠ è½½æ—¶æ ¡éªŒï¼Œé¿å…å› æ‹¼å†™é”™è¯¯å¯¼è‡´çš„è¿è¡Œæ—¶å¼‚å¸¸ã€‚
5.  **èµ„æºè‡ªåŠ¨ä¸‹è½½**ï¼š
    -   å¢åŠ åˆå§‹åŒ–è„šæœ¬ï¼Œè‡ªåŠ¨ä¸‹è½½å­—ä½“ç­‰èµ„æºã€‚
6.  **[å·²å®Œæˆ] Web UI æ§åˆ¶å° (NiceGUI)**ï¼š
    -   å·²åˆ›å»º `web_ui/app.py` (NiceGUI)ã€‚
    -   åŠŸèƒ½ï¼š
        -   **Dashboard**: æŸ¥çœ‹ Domain/Aesthetics é…ç½®ã€‚
        -   **Cookie Manager**: å¤šå¹³å° Cookie è·å–ä¸ç®¡ç†ï¼Œæ”¯æŒ Web ç«¯äºŒç»´ç å®æ—¶æ˜¾ç¤ºã€‚
    -   ä¾èµ–ï¼š`pip install nicegui`ã€‚

7.  **[å·²å®Œæˆ] Cookie å·¥å…·é‡æ„**ï¼š
    -   `1_pre_processing/cli_tools/bk_get_cookies.py` å·²é‡æ„ä¸ºé€šç”¨ CLI å·¥å…·ã€‚
    -   æ”¯æŒ `--platform` å‚æ•° (douyin, bilibili, kuaishou, xhs, videohao)ã€‚


---

## 4. ç»´æŠ¤å»ºè®®

1.  **æ–°å¢ä¾èµ–**ï¼š
    -   å°½é‡é¿å…å¼•å…¥é‡å‹åº“ã€‚
    -   å¦‚æœå¼•å…¥ï¼ŒåŠ¡å¿…åœ¨ `requirements.txt` æˆ– `pyproject.toml` ä¸­è®°å½•ç‰ˆæœ¬ã€‚
2.  **è·¯å¾„ç®¡ç†**ï¼š
    -   **ä¸¥ç¦**åœ¨ä»£ç ä¸­ç¡¬ç¼–ç ç»å¯¹è·¯å¾„æˆ–ç›¸å¯¹è·¯å¾„ï¼ˆ`../../`ï¼‰ã€‚
    -   **å¿…é¡»**ä½¿ç”¨ `shared.paths` ä¸­å®šä¹‰çš„å¸¸é‡ï¼ˆå¦‚ `PROJECT_ROOT`, `OUTPUT_DIR`ï¼‰ã€‚
3.  **æ—¥å¿—è§„èŒƒ**ï¼š
    -   ä½¿ç”¨ `shared.logger.console` è¿›è¡Œè¾“å‡ºï¼Œè€Œä¸æ˜¯ `print`ã€‚
    -   ä½¿ç”¨ `[green]`, `[yellow]`, `[red]` ç­‰ Rich æ ‡ç­¾åŒºåˆ†ä¿¡æ¯çº§åˆ«ã€‚

---
**Happy Coding! ğŸš€**
